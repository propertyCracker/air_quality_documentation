---
title: "Power BI"
---

# Connection
Power BI can connect directly to **Azure Synapse** to read data from:

- Dedicated SQL Pools  
- Serverless SQL Pools  
- Synapse Data Lake  

---

## Batch Analysis
The historical data provided in the data lake allows us to perform various analyses.  

- For example, we can calculate the **average temperature** in the Delta zone over a specific period.  
- We can also identify trends, detect anomalies, and generate insights for decision-making.  

![Batch Analysis](/Screenshot2025-11-25200551.png)

---

# Air Quality Analysis

## 1. Gas Score

**Definition:**

- **Gas Average:** The average measured concentration of the pollutant (e.g., CO₂ in ppm, PM₁₀ in µg/m³).  
- **Gas Threshold:** The corresponding health guideline or safety limit for that pollutant.  

**Interpretation:**

| Score Value   | Meaning                                        | Health Implication                     |
|---------------|------------------------------------------------|---------------------------------------|
| Close to 1.00 | The gas level is far below the safety limit. | Very safe / Best quality.             |
| Near 0        | The gas level is approaching the safety limit. | Warning / Limit is about to be reached. |
| 0.00          | The gas level has reached the safety limit.  | Unhealthy (Limit Reached).            |
| Negative      | The gas level has exceeded the safety limit. | Unhealthy / Hazardous (Limit Exceeded). |

---

## 2. Air Quality Score Percent

**Definition:**  
The `Air_Quality_Score_Percent` is a high-level, composite metric derived from an aggregation or inverse scoring of individual Gas Scores to provide an overall regional air quality snapshot.  

**Characteristics:**

- **Metric Type:** Composite Score (Percent)  
- **Purpose:** To rank regions based on overall air quality, with a higher percentage indicating better air quality.  

**Key Findings (from Dashboard):**

- Significant variation exists across regions.  
- **North Coast:** Highest scores → best air quality.  
- **Greater Cairo:** Lowest scores → worst air quality.  
- Scores trend downward from coastal to highly populated metropolitan areas.  

**Air Quality Level Mapping:**

- A score of **43%** corresponds to an **Unhealthy Air_Quality_Level**.

![Air Quality Score Percent](/Screenshot2025-11-25200606.png)

---

## 3. Average Gas Concentrations

**Tracked Pollutants (Global Average from Dashboard):**

| Pollutant                   | Unit of Measure | Global Average |
|------------------------------|----------------|----------------|
| Carbon Dioxide (CO₂)         | ppm            | 355.22         |
| Nitrogen Dioxide (NO₂)       | µg/m³          | 21.56          |
| Particulate Matter (PM₁₀)    | µg/m³          | 45.61          |
| Fine Particulate Matter (PM₂.₅)| µg/m³        | 22.32          |

**Regional Insights:**

- Breakdown of average concentrations shows contribution to Gas Scores and Air Quality Percent.  
- **Delta Region:** PM₁₀ and PM₂.₅ scores are **negative**, indicating thresholds are exceeded.
---

## 4. Streaming Analysis (Real-Time Alerting)

Streaming analysis processes individual sensor data points as they arrive, providing **up-to-the-minute analysis** for immediate operational awareness, acting as an early warning system.  

### Key Streaming Metrics

#### Sliding Window Averages
- Instead of calculating a single global average, the system compute
#### Real-Time Gas Score
- The **Gas Score** (Section 1) is recalculated with every new sensor data point using the most current sliding window average.  
- This allows the dashboard's KPI cards to dynamically update.   
#### Anomaly Detection
- The system monitors the **rate of change** in pollutant concentration.  
- A sudden spike in the **Gas Average** or rapid decline toward a negative **Gas Score** can trigger an anomaly flag, even if the absolute value has not yet crossed the official threshold.

#### Immediate Status Mapping
- The **Air_Quality_Level** (e.g., "Unhealthy," "Warning") is mapped and updated instantly based on the **Gas Score_real-time** of the most critical pollutant.  
- Provides **immediate actionable status** for decision-makers.

### System Goal
- Minimize latency between environmental changes and their reflection in the dashboard's **Gas Scores** and **Air Quality Level alerts**.

